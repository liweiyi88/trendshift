'use client'

import Link from 'next/link'
import Container from './Container'
import { routes } from '../lib/config'
import { usePathname } from 'next/navigation'
import Search from './search/Search'
import { useState } from 'react'

const Header = () => {
  const path = usePathname()

  const [showSearch, setShowSearch] = useState(false)

  return (
    <>
      <nav className="bg-white">
        <Container className="border-b-gray-200 border-b">
          <div className="flex h-16 items-center justify-between">
            <div className="flex items-center">
              <div className="flex items-baseline space-x-4">
                <div className="pr-4 font-semibold" aria-current="page">
                  <Link href={'/'}>
                    <svg
                      xmlns="http://www.w3.org/2000/svg"
                      width="100%"
                      viewBox="200 300 1000 400"
                      height="64"
                    >
                      <path
                        fill="#fff"
                        d="M1188 1001H1V1h1320v1000h-133M255.02 539.587c8.851 5.705 15.34 3.61 19.177-6.174.789-2.012 1.656-3.992 2.456-6l9.336-23.498 2.097 5.265 19.145 53.017c1.918 5.285 5.667 7.436 11.801 6.85 4.546-.435 7.746-2.296 8.654-7.346l11.332-61.312 6.439-34.074 8.836 15.979c3.371 5.836 10.907 7.494 16.428 3.702 2.813-1.932 4.012-4.398 2.223-7.687l-4.315-7.88-17.841-32.346c-2.411-4.303-7.009-6.096-12.53-5.014-3.831.751-6.524 2.543-7.306 6.982l-9.986 53.951-6.22 32.813-1.775-4.364-15.889-44.109c-1.805-5.177-5.168-7.467-10.44-7.482-5.188-.015-8.787 1.969-10.706 7.16-3.459 9.357-7.28 18.581-10.974 27.85l-6.456 15.965-18.325-14.174c-6.032-4.463-12.304-3.882-17.467 1.424l-21.143 21.939c-3.742 3.918-3.218 7.621 1.318 10.112 4.817 2.645 10.236 1.684 14.635-2.417l16.697-15.277 20.797 16.146m503.528-56.572c-13.797 5.218-21.058 15.448-23.211 29.808-3.03 20.211 9.62 38.307 29.603 41.729 10.355 1.774 19.232-1.605 27.062-9.638v7.857h18.081V452.419h-18.106v38.63c-9.681-9.788-20.563-11.598-33.43-8.034m191.449 43.49v26.258h17.909c0-15.348.708-30.499-.179-45.556-1.105-18.755-14.454-28.817-32.887-25.09-5.819 1.176-11.094 5.039-16.87 7.792v-37.416h-17.592v100.204h17.811c0-11.281-.267-22.266.132-33.228.159-4.364 1.164-8.947 2.901-12.944 2.56-5.892 9.489-9.013 15.766-8.155 6.99.956 11.024 4.348 12.296 11.737.865 5.025.518 10.26.713 16.398m-345.46 28.481c14.978-.315 26.85-6.024 34.76-19.896-5.092-1.482-9.654-2.955-14.304-4.052-1.043-.246-2.767.481-3.549 1.335-6.786 7.418-19.22 9.37-27.757 4.069-4.57-2.838-7.513-6.79-7.793-12.946H639.3c2.839-14.265-3.456-29.809-14.52-36.589-13.123-8.041-31.932-7.42-43.283 1.429-12.318 9.603-17.166 26.079-12.309 41.83 4.546 14.742 16.786 23.557 35.35 24.821m-173.832-81.449h25.355v79.241h19.098V473.34h32.168v-16.996H424.08v17.193h6.625m290.205 28.258c-2.307-8.631-6.662-15.804-15.543-18.723-12.339-4.056-23.513-1.712-33.087 8.373l-.454-7.985h-17.535v69.229h17.778c0-11.458-.315-22.617.154-33.742.19-4.495 1.424-9.24 3.38-13.293 2.684-5.561 9.707-8.24 15.776-7.189 6.791 1.177 10.403 4.555 11.794 11.694.629 3.231.69 6.604.715 9.916l.031 32.65h18.624l-1.634-50.929m156.322 46.986c6.667-5.027 9.829-11.632 8.556-19.981-1.224-8.027-6.681-12.36-13.928-14.71-7.573-2.456-15.322-4.402-22.795-7.119-2.248-.817-3.829-3.468-5.716-5.279 2.253-1.91 4.234-4.833 6.813-5.525 5.973-1.603 11.431.374 15.969 4.735.966.928 2.52 2.233 3.486 2.008 4.865-1.135 9.625-2.72 14.501-4.17-8.58-18.21-35.108-22.806-50.934-11.132-10.538 7.773-10.565 21.22-.196 28.686 2.373 1.709 5.185 2.988 7.979 3.899 6.623 2.159 13.404 3.833 20.026 5.995 3.424 1.118 7.422 2.349 6.965 7.156-.428 4.501-4.225 5.642-7.843 6.422-8.798 1.897-16.158-1.792-22.248-11.12l-15.785 4.843c7.235 20.269 35.071 28.031 55.149 15.293m175.39-65.625h-6.919c1.714-5.664 1.781-11.818 4.849-14.385 3.18-2.661 9.269-1.846 14.893-2.669l3.736-12.68c-10.025-4.052-20.733-4.174-27.573-.714-12.805 6.477-12.78 18.524-12.724 30.685h-12.921v15.881h13.096v53.494h18.26V499h20.581v-15.844h-15.279m49.23 18.249c1.128-.739 2.232-2.071 3.388-2.117 5.572-.223 11.159-.101 16.57-.101v-16.18h-20.023v-22.232h-18.581v22.443h-11.252v16.101h11.319l.011 9.858c.186 8.808.057 17.644.753 26.414.553 6.97 3.958 12.815 10.578 15.829 9.499 4.324 18.943 2.919 28.395-.721l-4.354-14.342-3.579.918c-9.243 2.185-13.196-.905-13.228-10.384l.003-25.486m-564.953 39.08c.019-6.996-.17-14.001.1-20.988.553-14.34 6.734-21.994 21.763-20.563.261.025.549-.239.866-.387v-16.146c-9.737-1.118-13.591.486-22.875 9.655v-8.618h-17.745v69.26h17.892v-12.213m448.345-40.983v53.198h18.19v-69.298h-18.19v16.1m10.894-47.416c-9.327.144-14.635 6.883-11.43 14.511 2.092 4.977 6.538 7.31 12.178 6.39 4.646-.758 8.321-4.807 8.72-9.61.423-5.086-2.587-8.97-9.469-11.29z"
                      />
                      <path
                        fill="#6670cc"
                        d="M254.732 539.359l-20.508-15.918-16.697 15.277c-4.399 4.102-9.818 5.063-14.635 2.417-4.536-2.491-5.061-6.194-1.318-10.112l21.143-21.939c5.163-5.306 11.435-5.886 17.467-1.424 6.001 4.44 11.82 9.126 18.325 14.174l6.456-15.965 10.974-27.85c1.919-5.192 5.518-7.175 10.706-7.16 5.271.015 8.635 2.305 10.44 7.482l15.889 44.109c.385 1.064.85 2.098 1.775 4.364l6.22-32.813 9.986-53.951c.782-4.439 3.475-6.231 7.306-6.982 5.521-1.082 10.119.711 12.53 5.014l17.841 32.346 4.315 7.88c1.789 3.289.59 5.755-2.223 7.687-5.52 3.792-13.056 2.134-16.428-3.702-2.814-4.872-5.454-9.844-8.836-15.979l-6.439 34.074-11.332 61.312c-.909 5.05-4.108 6.912-8.654 7.346-6.134.586-9.883-1.565-11.801-6.85l-19.145-53.017c-.489-1.352-1.062-2.674-2.097-5.265l-9.336 23.498-2.456 6c-3.837 9.784-10.326 11.879-19.465 5.946z"
                      />
                      <path
                        fill="#141414"
                        d="M758.938 482.938c12.477-3.487 23.359-1.677 33.039 8.111v-38.63h18.106v100.353h-18.081v-7.857c-7.831 8.033-16.707 11.412-27.062 9.638-19.983-3.423-32.633-21.519-29.603-41.729 2.153-14.36 9.414-24.59 23.601-29.886m-.213 20.304c-.746.894-1.584 1.727-2.225 2.691-5.266 7.918-4.285 20.152 2.121 26.926 5.789 6.122 15.914 7.595 23.461 3.414 10.46-5.794 13.63-19.635 7.218-29.842-6.104-9.717-21.427-12.124-30.575-3.19z"
                      />
                      <path
                        fill="#131313"
                        d="M949.997 526.007c-.195-5.639.152-10.874-.713-15.899-1.273-7.389-5.307-10.781-12.296-11.737-6.278-.858-13.206 2.263-15.766 8.155-1.737 3.998-2.742 8.58-2.901 12.944-.399 10.961-.132 21.947-.132 33.228h-17.811V452.493h17.592v37.416c5.776-2.753 11.052-6.615 16.87-7.792 18.434-3.727 31.783 6.335 32.887 25.09.887 15.057.179 30.208.179 45.556h-17.909v-26.757z"
                      />
                      <path
                        fill="#161616"
                        d="M604.071 554.97c-18.098-1.248-30.337-10.063-34.884-24.805-4.857-15.751-.009-32.227 12.309-41.83 11.351-8.849 30.16-9.47 43.283-1.429 11.065 6.78 17.359 22.324 14.52 36.589h-53.404c.28 6.156 3.222 10.108 7.793 12.946 8.537 5.302 20.971 3.349 27.757-4.069.782-.854 2.506-1.581 3.549-1.335 4.65 1.097 9.212 2.57 14.304 4.052-7.91 13.872-19.782 19.581-35.227 19.88m1.427-42.973h16.372c-1.362-10.259-8.481-15.627-19.53-15.071-8.912.449-15.903 6.827-16.271 15.071h19.429z"
                      />
                      <path
                        fill="#171717"
                        d="M430.239 473.537h-6.158v-17.193h83.247v16.996h-32.168v79.439h-19.098v-79.241c-8.759 0-17.057 0-25.822 0z"
                      />
                      <path
                        fill="#131313"
                        d="M720.963 502.213l1.581 50.512H703.92l-.031-32.65c-.025-3.311-.086-6.685-.715-9.916-1.391-7.139-5.003-10.517-11.794-11.694-6.068-1.051-13.092 1.628-15.776 7.189-1.956 4.053-3.191 8.799-3.38 13.293-.469 11.125-.154 22.284-.154 33.742h-17.778v-69.229h17.535l.454 7.985c9.574-10.085 20.748-12.43 33.087-8.373 8.881 2.919 13.235 10.092 15.595 19.141z"
                      />
                      <path
                        fill="#161616"
                        d="M876.918 548.964c-19.764 12.555-47.6 4.793-54.835-15.476l15.785-4.843c6.091 9.328 13.451 13.016 22.248 11.12 3.618-.78 7.415-1.921 7.843-6.422.457-4.806-3.541-6.037-6.965-7.156-6.622-2.163-13.403-3.836-20.026-5.995-2.794-.911-5.606-2.19-7.979-3.899-10.369-7.466-10.342-20.913.196-28.686 15.826-11.674 42.354-7.078 50.934 11.132-4.876 1.451-9.636 3.035-14.501 4.17-.966.225-2.52-1.079-3.486-2.008-4.538-4.36-9.996-6.338-15.969-4.735-2.58.692-4.56 3.615-6.813 5.525 1.887 1.811 3.468 4.462 5.716 5.279 7.473 2.717 15.221 4.663 22.795 7.119 7.247 2.35 12.703 6.683 13.928 14.71 1.273 8.349-1.889 14.953-8.869 20.163z"
                      />
                      <path
                        fill="#131313"
                        d="M1053.105 483.157h14.796V499h-20.581v53.767h-18.26v-53.494h-13.096v-15.881h12.921c-.056-12.161-.081-24.208 12.724-30.685 6.84-3.46 17.548-3.338 27.573.714l-3.736 12.68c-5.625.824-11.713.008-14.893 2.669-3.068 2.567-3.135 8.721-4.849 14.385h7.402z"
                      />
                      <path
                        fill="#171717"
                        d="M1101.849 501.917l.001 24.974c.031 9.479 3.985 12.569 13.228 10.384 1.103-.261 2.197-.562 3.579-.918l4.354 14.342c-9.453 3.64-18.896 5.045-28.395.721-6.62-3.014-10.025-8.859-10.578-15.829-.696-8.769-.568-17.605-.753-26.414-.066-3.142-.011-6.286-.011-9.858h-11.319v-16.101h11.252v-22.443h18.581v22.232h20.023v16.18c-5.412 0-10.998-.123-16.57.101-1.156.046-2.26 1.378-3.392 2.629z"
                      />
                      <path
                        fill="#141414"
                        d="M536.899 540.982v11.717h-17.892v-69.26h17.745v8.618c9.284-9.169 13.138-10.773 22.875-9.655v16.146c-.316.148-.605.411-.866.387-15.029-1.431-21.209 6.223-21.763 20.563-.27 6.987-.081 13.991-.099 21.484z"
                      />
                      <path
                        fill="#1a1a1a"
                        d="M985.244 499.004v-15.601h18.19v69.298h-18.19v-53.697z"
                      />
                      <path
                        fill="#161616"
                        d="M996.54 452.141c6.48 2.267 9.49 6.151 9.067 11.237-.399 4.803-4.074 8.852-8.72 9.61-5.641.92-10.087-1.413-12.178-6.39-3.205-7.628 2.103-14.367 11.832-14.457z"
                      />
                      <path
                        d="M758.985 502.983c8.889-8.675 24.212-6.269 30.315 3.448 6.412 10.208 3.242 24.048-7.218 29.842-7.547 4.181-17.672 2.707-23.461-3.414-6.407-6.775-7.387-19.008-2.121-26.926.641-.964 1.478-1.797 2.484-2.95zm-153.986 9.013H586.07c.368-8.243 7.359-14.622 16.271-15.071 11.05-.556 18.169 4.811 19.53 15.071h-16.872z"
                        fill="#fcfcfc"
                      />
                    </svg>
                  </Link>
                </div>
              </div>
            </div>

            <button
              onClick={() => {
                setShowSearch(true)
              }}
              className="sm:bg-gray-50 px-0 py-0 sm:px-3 sm:py-2 rounded text-base text-gray-500 flex-1 ml-4 sm:ml-0 mx-2 max-w-4xl sm:border flex items-center"
            >
              <svg
                xmlns="http://www.w3.org/2000/svg"
                fill="none"
                viewBox="0 0 24 24"
                strokeWidth={1.5}
                stroke="currentColor"
                className="w-5 h-5 mr-0 sm:mr-1"
              >
                <path
                  strokeLinecap="round"
                  strokeLinejoin="round"
                  d="M21 21l-5.197-5.197m0 0A7.5 7.5 0 105.196 5.196a7.5 7.5 0 0010.607 10.607z"
                />
              </svg>
              <span className="hidden sm:block">Search...</span>
            </button>

            {!path.startsWith(routes.adminRepository) && (
              <div>
                <Link
                  href={routes.adminRepository}
                  className="px-4 py-2 bg-black rounded text-white text-sm"
                >
                  Admin Login
                </Link>
              </div>
            )}
          </div>
        </Container>

        {showSearch && (
          <Search
            onClose={() => {
              setShowSearch(false)
            }}
          />
        )}
      </nav>
    </>
  )
}

export default Header
